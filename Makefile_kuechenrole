data/preprocessing/processed/waom10_grd.nc: data/preprocessing/interim/waom10_MinDepth20m_rx10.3_grd.nc notebooks/0.5-kuechenrole-grid_tuning.ipynb


data/preprocessing/interim/waom10_MinDepth20m_rx10.3_grd.nc: data/preprocessing/external/bedmap2/bedmap2.mat data/preprocessing/external/rtopo/RTopo-2.0.1_30sec_bedrock_topography_S30.nc src/preprocessing/grid/make_grid.m
	matlab -nojvm -nodisplay -r 'try; run src/preprocessing/grid/make_grid.m; catch; end; quit'

proj_dir ?= /home/ubuntu/bigStick/tidal_melting
dataPre_dir = $(proj_dir)/data/preprocessing
srcPre_dir = $(proj_dir)/src/preprocessing

$(dataPre_dir)/processed/waom10_ini.nc: $(srcPre_dir)/initial_conditions/make_ini.py $(dataPre_dir)/external/ecco2/THETA.1440x720x50.20070101.nc $(dataPre_dir)/external/ecco2/THETA.1440x720x50.20070101.nc $(dataPre_dir)/processed/waom10_grd.nc:
	python src/preprocessing/initial_conditions/make_ini.py
